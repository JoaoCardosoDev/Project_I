{% extends "filemanager/base.html" %}

{% load static %}

{% block 'title' %} Home {% endblock %}

{% block 'content' %}
<div class="brightness"></div>

<div class="homeNav">
    <h1>ETIC_DRIVE</h1>
    <span class="usercard">
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="38" viewBox="0 0 39 48" fill="none">
            <path d="M19.3254 23.5863C12.8221 23.5863 7.53223 18.2964 7.53223 11.7932C7.53223 5.28986 12.8221 0 19.3254 0C25.8287 0 31.1185 5.28986 31.1185 11.7932C31.1185 18.2964 25.8287 23.5863 19.3254 23.5863ZM19.3254 1.58489C13.6971 1.58489 9.11712 6.16485 9.11712 11.7932C9.11712 17.4215 13.6971 22.0014 19.3254 22.0014C24.9537 22.0014 29.5336 17.4215 29.5336 11.7932C29.5336 6.16485 24.9537 1.58489 19.3254 1.58489Z" fill="black"/>
            <path d="M19.3256 47.7188C6.65605 47.7188 0.6329 44.1665 0.382508 44.0152C0.141748 43.8694 -0.00271294 43.608 3.86138e-05 43.3273C0.0275541 40.9775 0.0413169 38.3222 0.0138014 37.8957C0.00417098 37.8476 3.86138e-05 37.7981 3.86138e-05 37.7472C3.86138e-05 33.4492 1.41296 30.3936 4.3186 28.4056C7.3797 26.3117 12.2885 25.2936 19.3256 25.2936C26.3627 25.2936 31.2728 26.3117 34.3325 28.4056C37.2382 30.3936 38.6511 33.4492 38.6511 37.7472C38.6511 37.7967 38.647 37.8476 38.6373 37.8957C38.6098 38.3209 38.6236 40.9775 38.6511 43.3273C38.6538 43.608 38.5094 43.8694 38.2686 44.0152C38.0182 44.1665 31.9951 47.7188 19.3256 47.7188ZM1.59044 42.865C3.08453 43.6121 8.90131 46.1339 19.3256 46.1339C29.7498 46.1339 35.5638 43.6135 37.0607 42.865C37.0222 39.5659 37.0125 38.3016 37.0689 37.7485H37.0662C37.0662 33.9624 35.9133 31.409 33.4383 29.7154C30.6496 27.8072 26.0338 26.8799 19.3256 26.8799C12.6173 26.8799 8.00155 27.8072 5.21286 29.7154C2.73783 31.409 1.58494 33.961 1.58494 37.7485H1.58218C1.63996 38.3016 1.62896 39.5659 1.59044 42.865ZM38.4571 38.2686C38.4571 38.2686 38.4571 38.2686 38.4571 38.27C38.4571 38.27 38.4571 38.27 38.4571 38.2686ZM0.195405 38.2686C0.195405 38.2686 0.195405 38.2686 0.195405 38.27C0.195405 38.27 0.195405 38.27 0.195405 38.2686ZM38.4599 38.2672C38.4599 38.2672 38.4599 38.2672 38.4599 38.2686C38.4599 38.2686 38.4599 38.2686 38.4599 38.2672ZM0.194028 38.2672C0.194028 38.2672 0.194028 38.2672 0.194028 38.2686C0.194028 38.2686 0.194028 38.2686 0.194028 38.2672ZM38.5424 38.1516C38.519 38.1915 38.4901 38.2314 38.4599 38.2672C38.4929 38.2287 38.5204 38.1902 38.5424 38.1516ZM0.192651 38.2658C0.192651 38.2658 0.192651 38.2658 0.192651 38.2672C0.192651 38.2672 0.192651 38.2672 0.192651 38.2658ZM0.191273 38.2645C0.191273 38.2645 0.191275 38.2645 0.192651 38.2658C0.192651 38.2658 0.192649 38.2658 0.191273 38.2645ZM0.112853 38.1558C0.13349 38.1915 0.159631 38.2273 0.191273 38.2645C0.162382 38.2301 0.136241 38.1943 0.112853 38.1558Z" fill="black"/>
            </svg>
        <p>{{ user.get_username }}</p>
    </span>
    <a href="{% url "logout" %}">Logout</a>
    <div class="buttonCard">
        <button class="primaryButton" id="homebttn" onclick="location.href='/home'">My Drive</button>
        <button class="primaryButton" id="binbttn">Bin</button>
        <button class="secondaryButton" id="newFolderbttn">New Folder</button>
        <button class="secondaryButton" id="upFilebttn">Upload File</button>
    </div>
    
    <hr>
    
    <div class="favFolders">
        <h2>Favorites</h2>
        <ul>
            {% for folder in favfolders %}
            <button onclick="location.href='/folder/{{folder.pk}}'">{{folder.title}}</button>
            
            {% endfor %}
        </ul>
    </div>

</div>
<div class="main">
    <div class="navUtilCard">
        <div class="modifiedCard">
            <p>Last Modified</p>
            <hr>
            <span>

                {% for base in Lastmod|slice:"0:5" %}
                <button onclick="location.href='/folder/{{folder.pk}}'">{{base.title}}</button>
                {% endfor %}
            </span>
        </div>
        <div class="searchCard">
            <h2>Search</h2>
            <form method="POST">

                {% csrf_token %}
                {{ searchForm }}
                <input type="text" name="search_query">
            </form>
        </div>
    </div>
    
    <div class="workdspaceCard">
        <span>
            {% if breadcrumb == "Workspace"%}
                <p>Workspace</p>
            {% else %}
                <p>{{ breadcrumb|join:' > ' }}</p>
            {% endif %}
        </span>
        <div class="folderWrapper">
            <ul>
                <hr>
                {% for folder in folders %}
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                            <path d="M3 8.2C3 7.07989 3 6.51984 3.21799 6.09202C3.40973 5.71569 3.71569 5.40973 4.09202 5.21799C4.51984 5 5.0799 5 6.2 5H9.67452C10.1637 5 10.4083 5 10.6385 5.05526C10.8425 5.10425 11.0376 5.18506 11.2166 5.29472C11.4184 5.4184 11.5914 5.59135 11.9373 5.93726L12.0627 6.06274C12.4086 6.40865 12.5816 6.5816 12.7834 6.70528C12.9624 6.81494 13.1575 6.89575 13.3615 6.94474C13.5917 7 13.8363 7 14.3255 7H17.8C18.9201 7 19.4802 7 19.908 7.21799C20.2843 7.40973 20.5903 7.71569 20.782 8.09202C21 8.51984 21 9.0799 21 10.2V15.8C21 16.9201 21 17.4802 20.782 17.908C20.5903 18.2843 20.2843 18.5903 19.908 18.782C19.4802 19 18.9201 19 17.8 19H6.2C5.07989 19 4.51984 19 4.09202 18.782C3.71569 18.5903 3.40973 18.2843 3.21799 17.908C3 17.4802 3 16.9201 3 15.8V8.2Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        <a href='/folder/{{folder.pk}}'>{{folder.title}}</a> - {{folder.date}} <a href="/delete/{{folder.pk}}"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                            <path d="M10 11V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M14 11V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 7H20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg></a><a href="/edit/{{folder.pk}}"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M21.1213 2.70705C19.9497 1.53548 18.0503 1.53547 16.8787 2.70705L15.1989 4.38685L7.29289 12.2928C7.16473 12.421 7.07382 12.5816 7.02986 12.7574L6.02986 16.7574C5.94466 17.0982 6.04451 17.4587 6.29289 17.707C6.54127 17.9554 6.90176 18.0553 7.24254 17.9701L11.2425 16.9701C11.4184 16.9261 11.5789 16.8352 11.7071 16.707L19.5556 8.85857L21.2929 7.12126C22.4645 5.94969 22.4645 4.05019 21.2929 2.87862L21.1213 2.70705ZM18.2929 4.12126C18.6834 3.73074 19.3166 3.73074 19.7071 4.12126L19.8787 4.29283C20.2692 4.68336 20.2692 5.31653 19.8787 5.70705L18.8622 6.72357L17.3068 5.10738L18.2929 4.12126ZM15.8923 6.52185L17.4477 8.13804L10.4888 15.097L8.37437 15.6256L8.90296 13.5112L15.8923 6.52185ZM4 7.99994C4 7.44766 4.44772 6.99994 5 6.99994H10C10.5523 6.99994 11 6.55223 11 5.99994C11 5.44766 10.5523 4.99994 10 4.99994H5C3.34315 4.99994 2 6.34309 2 7.99994V18.9999C2 20.6568 3.34315 21.9999 5 21.9999H16C17.6569 21.9999 19 20.6568 19 18.9999V13.9999C19 13.4477 18.5523 12.9999 18 12.9999C17.4477 12.9999 17 13.4477 17 13.9999V18.9999C17 19.5522 16.5523 19.9999 16 19.9999H5C4.44772 19.9999 4 19.5522 4 18.9999V7.99994Z" fill="#000000"/>
                                </svg></a></li>
                    <hr>
                {% endfor%}
                {% for file in files %}
                    <li>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                            <path d="M13 3L13.7071 2.29289C13.5196 2.10536 13.2652 2 13 2V3ZM19 9H20C20 8.73478 19.8946 8.48043 19.7071 8.29289L19 9ZM13.109 8.45399L14 8V8L13.109 8.45399ZM13.546 8.89101L14 8L13.546 8.89101ZM10 13C10 12.4477 9.55228 12 9 12C8.44772 12 8 12.4477 8 13H10ZM8 16C8 16.5523 8.44772 17 9 17C9.55228 17 10 16.5523 10 16H8ZM8.5 9C7.94772 9 7.5 9.44772 7.5 10C7.5 10.5523 7.94772 11 8.5 11V9ZM9.5 11C10.0523 11 10.5 10.5523 10.5 10C10.5 9.44772 10.0523 9 9.5 9V11ZM8.5 6C7.94772 6 7.5 6.44772 7.5 7C7.5 7.55228 7.94772 8 8.5 8V6ZM9.5 8C10.0523 8 10.5 7.55228 10.5 7C10.5 6.44772 10.0523 6 9.5 6V8ZM17.908 20.782L17.454 19.891L17.454 19.891L17.908 20.782ZM18.782 19.908L19.673 20.362L18.782 19.908ZM5.21799 19.908L4.32698 20.362H4.32698L5.21799 19.908ZM6.09202 20.782L6.54601 19.891L6.54601 19.891L6.09202 20.782ZM6.09202 3.21799L5.63803 2.32698L5.63803 2.32698L6.09202 3.21799ZM5.21799 4.09202L4.32698 3.63803L4.32698 3.63803L5.21799 4.09202ZM12 3V7.4H14V3H12ZM14.6 10H19V8H14.6V10ZM12 7.4C12 7.66353 11.9992 7.92131 12.0169 8.13823C12.0356 8.36682 12.0797 8.63656 12.218 8.90798L14 8C14.0293 8.05751 14.0189 8.08028 14.0103 7.97537C14.0008 7.85878 14 7.69653 14 7.4H12ZM14.6 8C14.3035 8 14.1412 7.99922 14.0246 7.9897C13.9197 7.98113 13.9425 7.9707 14 8L13.092 9.78201C13.3634 9.92031 13.6332 9.96438 13.8618 9.98305C14.0787 10.0008 14.3365 10 14.6 10V8ZM12.218 8.90798C12.4097 9.2843 12.7157 9.59027 13.092 9.78201L14 8V8L12.218 8.90798ZM8 13V16H10V13H8ZM8.5 11H9.5V9H8.5V11ZM8.5 8H9.5V6H8.5V8ZM13 2H8.2V4H13V2ZM4 6.2V17.8H6V6.2H4ZM8.2 22H15.8V20H8.2V22ZM20 17.8V9H18V17.8H20ZM19.7071 8.29289L13.7071 2.29289L12.2929 3.70711L18.2929 9.70711L19.7071 8.29289ZM15.8 22C16.3436 22 16.8114 22.0008 17.195 21.9694C17.5904 21.9371 17.9836 21.8658 18.362 21.673L17.454 19.891C17.4045 19.9162 17.3038 19.9539 17.0322 19.9761C16.7488 19.9992 16.3766 20 15.8 20V22ZM18 17.8C18 18.3766 17.9992 18.7488 17.9761 19.0322C17.9539 19.3038 17.9162 19.4045 17.891 19.454L19.673 20.362C19.8658 19.9836 19.9371 19.5904 19.9694 19.195C20.0008 18.8114 20 18.3436 20 17.8H18ZM18.362 21.673C18.9265 21.3854 19.3854 20.9265 19.673 20.362L17.891 19.454C17.7951 19.6422 17.6422 19.7951 17.454 19.891L18.362 21.673ZM4 17.8C4 18.3436 3.99922 18.8114 4.03057 19.195C4.06287 19.5904 4.13419 19.9836 4.32698 20.362L6.10899 19.454C6.0838 19.4045 6.04612 19.3038 6.02393 19.0322C6.00078 18.7488 6 18.3766 6 17.8H4ZM8.2 20C7.62345 20 7.25117 19.9992 6.96784 19.9761C6.69617 19.9539 6.59545 19.9162 6.54601 19.891L5.63803 21.673C6.01641 21.8658 6.40963 21.9371 6.80497 21.9694C7.18864 22.0008 7.65645 22 8.2 22V20ZM4.32698 20.362C4.6146 20.9265 5.07354 21.3854 5.63803 21.673L6.54601 19.891C6.35785 19.7951 6.20487 19.6422 6.10899 19.454L4.32698 20.362ZM8.2 2C7.65645 2 7.18864 1.99922 6.80497 2.03057C6.40963 2.06287 6.01641 2.13419 5.63803 2.32698L6.54601 4.10899C6.59545 4.0838 6.69617 4.04612 6.96784 4.02393C7.25117 4.00078 7.62345 4 8.2 4V2ZM6 6.2C6 5.62345 6.00078 5.25117 6.02393 4.96784C6.04612 4.69617 6.0838 4.59545 6.10899 4.54601L4.32698 3.63803C4.13419 4.01641 4.06287 4.40963 4.03057 4.80497C3.99922 5.18864 4 5.65645 4 6.2H6ZM5.63803 2.32698C5.07354 2.6146 4.6146 3.07354 4.32698 3.63803L6.10899 4.54601C6.20487 4.35785 6.35785 4.20487 6.54601 4.10899L5.63803 2.32698Z" fill="#000000"/>
                            </svg>
                            <a href="/download/{{file.pk}}">{{file.title}}</a> - {{file.date}} <a href="/delete/{{file.pk}}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                        <path d="M10 11V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 11V17" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M4 7H20" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6 7H12H18V18C18 19.6569 16.6569 21 15 21H9C7.34315 21 6 19.6569 6 18V7Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg></a><a href="/edit/{{file.pk}}"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M21.1213 2.70705C19.9497 1.53548 18.0503 1.53547 16.8787 2.70705L15.1989 4.38685L7.29289 12.2928C7.16473 12.421 7.07382 12.5816 7.02986 12.7574L6.02986 16.7574C5.94466 17.0982 6.04451 17.4587 6.29289 17.707C6.54127 17.9554 6.90176 18.0553 7.24254 17.9701L11.2425 16.9701C11.4184 16.9261 11.5789 16.8352 11.7071 16.707L19.5556 8.85857L21.2929 7.12126C22.4645 5.94969 22.4645 4.05019 21.2929 2.87862L21.1213 2.70705ZM18.2929 4.12126C18.6834 3.73074 19.3166 3.73074 19.7071 4.12126L19.8787 4.29283C20.2692 4.68336 20.2692 5.31653 19.8787 5.70705L18.8622 6.72357L17.3068 5.10738L18.2929 4.12126ZM15.8923 6.52185L17.4477 8.13804L10.4888 15.097L8.37437 15.6256L8.90296 13.5112L15.8923 6.52185ZM4 7.99994C4 7.44766 4.44772 6.99994 5 6.99994H10C10.5523 6.99994 11 6.55223 11 5.99994C11 5.44766 10.5523 4.99994 10 4.99994H5C3.34315 4.99994 2 6.34309 2 7.99994V18.9999C2 20.6568 3.34315 21.9999 5 21.9999H16C17.6569 21.9999 19 20.6568 19 18.9999V13.9999C19 13.4477 18.5523 12.9999 18 12.9999C17.4477 12.9999 17 13.4477 17 13.9999V18.9999C17 19.5522 16.5523 19.9999 16 19.9999H5C4.44772 19.9999 4 19.5522 4 18.9999V7.99994Z" fill="#000000"/>
                            </svg></a><a href="/download/{{file.pk}}"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24">

                                <title/>
                                
                                <g id="Complete">
                                
                                <g id="download">
                                
                                <g>
                                
                                <path d="M3,12.3v7a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2v-7" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                
                                <g>
                                
                                <polyline data-name="Right" fill="none" id="Right-2" points="7.9 12.3 12 16.3 16.1 12.3" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                
                                <line fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" x1="12" x2="12" y1="2.7" y2="14.2"/>
                                
                                </g>
                                
                                </g>
                                
                                </g>
                                
                                </g>
                                
                                </svg></a></li>
                    <hr>

                {% endfor%}
            {% if not folders and not files %}
                <li style="text-align: center;">The workspace is empty.</li>
            {% endif %}
            </ul>
        </div>
    </div>
    <div class="overlay">
        <div class="createFolder">
            <h1>Create new folder</h1>
            <form method="post">
                {% csrf_token %}
                {{ form }}
                <button type="submit">Submit</button>
                <button>Cancel</button>
              </form>
        </div>
        <div class="fileCreatecard">
            <h1>Upload New File</h1>
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ fileform }}
                <button type="submit">Upload</button>
              </form>
        </div>
    </div>
</div>

{% endblock %}
